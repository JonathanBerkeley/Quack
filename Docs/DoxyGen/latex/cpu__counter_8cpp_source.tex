\hypertarget{cpu__counter_8cpp_source}{}\doxysection{cpu\+\_\+counter.\+cpp}
\label{cpu__counter_8cpp_source}\index{\_\_quack/Lib/Quack-\/shared/cpu\_counter.cpp@{\_\_quack/Lib/Quack-\/shared/cpu\_counter.cpp}}
\mbox{\hyperlink{cpu__counter_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}pch.hpp"{}}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00002}00002 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{cpu__counter_8hpp}{cpu\_counter.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00005}00005 \textcolor{comment}{// Cpu counter implementation}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#pragma region ConstructorDestructor}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00008}\mbox{\hyperlink{class_cpu_counter_a3a6eac534e74f44946f09d0a40c3e18b}{00008}} \mbox{\hyperlink{class_cpu_counter_a3a6eac534e74f44946f09d0a40c3e18b}{CpuCounter::CpuCounter}}() \{}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00009}00009     PdhOpenQuery(\textcolor{keyword}{nullptr}, 0, \&cpu\_query);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00010}00010     PdhAddEnglishCounter(cpu\_query, L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)Processor(\_Total)\(\backslash\)\(\backslash\)\% Processor Time"{}}, 0, \&cpu\_counter);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00011}00011     PdhCollectQueryData(cpu\_query);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00012}00012 \}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00014}\mbox{\hyperlink{class_cpu_counter_ac783d677a7becc1a89d0cbb7ec5b85b8}{00014}} \mbox{\hyperlink{class_cpu_counter_ac783d677a7becc1a89d0cbb7ec5b85b8}{CpuCounter::\string~CpuCounter}}() \{}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00015}00015     \textcolor{comment}{// Cleanup}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00016}00016     PdhRemoveCounter(cpu\_counter);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00017}00017     PdhCloseQuery(cpu\_query);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00018}00018 \}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00019}00019 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00021}00021 \textcolor{preprocessor}{\#pragma region CopyMoveAssign}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00022}00022 \mbox{\hyperlink{class_cpu_counter_a3a6eac534e74f44946f09d0a40c3e18b}{CpuCounter::CpuCounter}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_cpu_counter}{CpuCounter}}\& other) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00024}\mbox{\hyperlink{class_cpu_counter_a2c279420c27610b1978c99f959217116}{00024}} \mbox{\hyperlink{class_cpu_counter_a3a6eac534e74f44946f09d0a40c3e18b}{CpuCounter::CpuCounter}}(\mbox{\hyperlink{class_cpu_counter}{CpuCounter}}\&\& other) noexcept :}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00025}00025     cpu\_query(other.cpu\_query),}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00026}00026     cpu\_counter(other.cpu\_counter) \{\}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00028}\mbox{\hyperlink{class_cpu_counter_a261b57ed843716f26039dda13d1752d1}{00028}} \mbox{\hyperlink{class_cpu_counter}{CpuCounter}}\& \mbox{\hyperlink{class_cpu_counter_a261b57ed843716f26039dda13d1752d1}{CpuCounter::operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_cpu_counter}{CpuCounter}}\& other) \{}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00029}00029     \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00030}00030         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00031}00031     cpu\_query = other.cpu\_query;}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00032}00032     cpu\_counter = other.cpu\_counter;}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00033}00033     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00034}00034 \}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00036}\mbox{\hyperlink{class_cpu_counter_ad719b5ab8bc5f145d282e5f28b3c4ccc}{00036}} \mbox{\hyperlink{class_cpu_counter}{CpuCounter}}\& \mbox{\hyperlink{class_cpu_counter_a261b57ed843716f26039dda13d1752d1}{CpuCounter::operator=}}(\mbox{\hyperlink{class_cpu_counter}{CpuCounter}}\&\& other) \textcolor{keyword}{noexcept} \{}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00037}00037     \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00038}00038         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00039}00039     cpu\_query = other.cpu\_query;}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00040}00040     cpu\_counter = other.cpu\_counter;}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00041}00041     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00042}00042 \}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00043}00043 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00049}\mbox{\hyperlink{class_cpu_counter_a356d4ed5cd4aee9f499a845e0712204e}{00049}} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_cpu_counter_a356d4ed5cd4aee9f499a845e0712204e}{CpuCounter::operator()}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00050}00050     PDH\_FMT\_COUNTERVALUE counter\_value;}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00051}00051     PdhCollectQueryData(cpu\_query);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00052}00052     PdhGetFormattedCounterValue(cpu\_counter, PDH\_FMT\_DOUBLE, \textcolor{keyword}{nullptr}, \&counter\_value);}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00054}00054     \textcolor{keywordflow}{return} counter\_value.doubleValue;}
\DoxyCodeLine{\Hypertarget{cpu__counter_8cpp_source_l00055}00055 \}}

\end{DoxyCode}
