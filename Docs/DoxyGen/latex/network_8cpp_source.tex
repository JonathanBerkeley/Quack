\hypertarget{network_8cpp_source}{}\doxysection{network.\+cpp}
\label{network_8cpp_source}\index{\_\_quack/Quack-\/internal/network.cpp@{\_\_quack/Quack-\/internal/network.cpp}}
\mbox{\hyperlink{network_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_red_01team_2_inertia-cheat_2_inertia-cheat_2pch_8hpp}{pch.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{utils_8hpp}{utils.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{network_8hpp}{network.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00006}00006 \textcolor{keyword}{namespace }json = nlohmann;}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00008}00008 \textcolor{keyword}{using namespace }std::string\_literals;}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00016}\mbox{\hyperlink{class_communication_afe824cffab4f52a060adcc453d832590}{00016}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_communication_afe824cffab4f52a060adcc453d832590}{Communication::SendData}}(\textcolor{keyword}{const} json::json\& body) \{}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00017}00017     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} res = cli.Post(\textcolor{stringliteral}{"{}/"{}}, body.dump(), \textcolor{stringliteral}{"{}application/json"{}})) \{}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00018}00018         \textcolor{keywordflow}{if} (res-\/>status == 200) \{}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00019}00019             \mbox{\hyperlink{utils_8cpp_a61e909d98c60465d776d9cbf1da6a0bd}{Log}}(res-\/>body);}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00020}00020             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00021}00021         \}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00022}00022         \mbox{\hyperlink{utils_8cpp_a61e909d98c60465d776d9cbf1da6a0bd}{Log}}(\textcolor{stringliteral}{"{}Failed: "{}} + std::to\_string(res-\/>status));}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00023}00023         \mbox{\hyperlink{utils_8cpp_a61e909d98c60465d776d9cbf1da6a0bd}{Log}}(\{ \textcolor{stringliteral}{"{}\(\backslash\)nError:"{}}s, to\_string(res.error()) \});}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00024}00024         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00025}00025     \}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00027}00027     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00028}00028 \}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00039}\mbox{\hyperlink{network_8cpp_a25ab864e68502a8f628f9cdc4e394c54}{00039}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{network_8cpp_a25ab864e68502a8f628f9cdc4e394c54}{Heartbeat}}(\textcolor{keyword}{const} json::json\& heartbeat\_data, \textcolor{keyword}{const} \textcolor{keywordtype}{int} miss\_tolerance) \{}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00040}00040     \textcolor{keyword}{static} \textcolor{keywordtype}{int} consecutive\_misses = 0;}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00042}00042     \textcolor{keywordflow}{if} (not \mbox{\hyperlink{class_communication_afe824cffab4f52a060adcc453d832590}{Communication::SendData}}(heartbeat\_data)) \{}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00043}00043         ++consecutive\_misses;}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00044}00044         \mbox{\hyperlink{utils_8cpp_a61e909d98c60465d776d9cbf1da6a0bd}{Log}}(L\textcolor{stringliteral}{"{}Missed "{}} + std::to\_wstring(consecutive\_misses) + L\textcolor{stringliteral}{"{}/"{}} + std::to\_wstring(miss\_tolerance) + L\textcolor{stringliteral}{"{} heartbeats"{}});}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00045}00045     \}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00046}00046     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00047}00047         consecutive\_misses = 0;}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00048}00048     \}}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00050}00050     \textcolor{keywordflow}{return} consecutive\_misses < miss\_tolerance;}
\DoxyCodeLine{\Hypertarget{network_8cpp_source_l00051}00051 \}}

\end{DoxyCode}
